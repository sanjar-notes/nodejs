## Getting orders
This is very simple, from a *joins* perspective, since an order has a high degree of duplicates, i.e. no joins/extra calls are needed.

There's a different problem here, though. We don't store anything related to order in the User model, and therefore we don't know the orderIds. Consequently, we need to query the "orders" collection with a condition of `user._id` since we every order does have the `user` object. MongoDB syntax for nested matching:
```js
const { getDb, mongoConnect } = require('./util/database.js');
const mongodb = require("mongodb");

class User {
  // existing code

  async getOrders () {
    // .find({_id: { $in: [??]}}) // can't use, since we don't know orderIds

	const db = getDb();

	return db
			.collection('orders')
			.find({ "user._id": new mongodb.ObjectId(this.id) });
  }
}
```

This syntax is not something new/different, as compared to using `_id` - we just changed the key to be `user._id`. The **important thing** is know that MongoDB supports queries with nested keys.
