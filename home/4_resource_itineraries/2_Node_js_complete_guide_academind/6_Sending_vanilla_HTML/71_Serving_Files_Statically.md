# 71. Serving Files Statically
Created Wednesday 1 March 2023 at 11:41 pm

## Situation (ignorable)
HTML files have assets - CSS, JS, images etc. After an HTML file is received loaded by the browser, GET calls for embedded assets are made automatically by the browser.

But since our Express.js app has no routes that handle this, nothing is sent back (404). This is bad. 

UI assets are *usually* publicly viewable files with no sensitive data. And since there can be a lot of them, including those generated by front-end app bundlers, it doesn't make sense to create route(s) to handle serving these files.

Fortunately, Express has a built-in middleware for such functionality.

## How (to serve file statically)
For serving static files directly, i.e. URL ending with raw file, use the `express.static` middleware. 

Syntax - [`express.static('absolue_path_to_folder')`](https://expressjs.com/en/starter/static-files.html)
Mapping - `/main.css` will serve `my-project/public/main.css` file.
Example:
```js
const express = require('express');
const app = express();

const path = require('node:path');

app.use(express.static(path.join(__dirname, "public")));
// URL /main.css will serve my-project/public/main.css

// usual app code...
```

Note:
- This middleware only serves files inside (i.e. children and descendants) the specified folder, not outside the ones it.
- Specify the proper URL for file embeds - use URLs that an external user would, not project file paths. Relative URLs (starting with `"/"`) are fine, of course.
- Use `"/"` prefix in asset URLs, since it specifies actual "root" (from domain), and ignores nested paths that we are on. **This is important**.

[Code - serving files statically](https://github.com/exemplar-codes/traditional-web-app-express/commit/a70e538767d5a5fca63d723c305eca978725f001)


## Dumb server using Express
To create a dumb server - that just sends files. 
The `express.static` middleware along with a 404 handling middleware are enough.