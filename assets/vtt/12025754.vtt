WEBVTT

00:02.400 --> 00:08.730
We're now able to keep the old user data and as you see, it was relatively easy using that value we attribute

00:08.910 --> 00:13.000
and ensuring that we simply return the input the user entered.

00:13.020 --> 00:18.340
Now obviously you can also do even more on your frontend side,

00:18.390 --> 00:24.820
for example you could give these invalid inputs a red border, that is also something you often see and for that

00:24.840 --> 00:30.370
you just have to keep in mind that you have to use that information which you're getting to pass it

00:30.380 --> 00:36.000
to your view and then render something different based on that information.

00:36.000 --> 00:44.580
So in our case here for example in the sign up route, we do have our errors array here right, here where I output

00:44.580 --> 00:50.490
my errors array and that errors array contains all the problematic fields.

00:50.490 --> 00:53.770
Now we then return an error message based on that array

00:53.910 --> 01:00.120
but of course we could pass another key here, validation errors or whatever name you want

01:00.220 --> 01:03.060
and that could be just errors array.

01:03.100 --> 01:06.190
So the full array is now returned as well

01:06.190 --> 01:12.370
in my render function, so now I'm returning not just the first message which I picked to show but also the full

01:12.370 --> 01:14.230
array of errors.

01:14.260 --> 01:20.710
Now as always this means that I should go to my other scenario, get sign up and also render that,

01:20.770 --> 01:25.160
so validation errors here would be an empty array because I got no errors

01:25.240 --> 01:26.970
and now we know it's either an empty array

01:27.010 --> 01:36.620
if we load that page without errors or we have an array of inputs that do have well problems.

01:36.820 --> 01:41.940
So how can we now benefit from that array of errors?

01:42.220 --> 01:48.610
Well we can go back to our frontend and there, we could change the styling of that input based on the

01:48.610 --> 01:51.400
existence of an error for that input,

01:51.400 --> 01:52.890
now how can we do that?

01:53.200 --> 01:57.380
Well let me structure this over multiple lines to make it a bit easier to read

01:57.640 --> 02:04.790
and then here on this input, we could assign a conditional css class that sets an invalid styling.

02:04.930 --> 02:08.230
So we could add class here

02:08.390 --> 02:12.710
and now we use ejs syntax to output something there 

02:12.780 --> 02:18.650
and what I want to output here is that I check my validation errors which is that array of errors which

02:18.650 --> 02:25.470
I just talked about and there I try to find which is a built-in javascript method we can call on arrays,

02:25.490 --> 02:29.570
I try to find an error where error

02:32.420 --> 02:36.380
param is equal to email and

02:36.390 --> 02:39.600
keep in mind these are the error objects in that array,

02:39.650 --> 02:43.570
they do have a param field which holds the name of the problematic input.

02:43.580 --> 02:50.870
So here I'm trying to find an error for the email input because I'm on the email input here in my html

02:51.010 --> 02:52.190
code.

02:52.310 --> 02:54.730
Now this will either return

02:54.730 --> 03:02.540
undefined or null if I don't find it or it will give me that entry I'm looking for.

03:02.540 --> 03:05.340
So I can check if that is not false-ish,

03:05.350 --> 03:15.320
so if it is not undefined or anything like that, then I want to add invalid as a class here

03:15.630 --> 03:18.000
otherwise I will not add anything,

03:18.000 --> 03:23.430
so just an empty string because that should be text that is added as a css class.

03:23.430 --> 03:30.230
Now with that I should get that invalid class on my input when I do have an error for the email control.

03:30.510 --> 03:36.940
Now to see something, I'll go to my a public folder real quick to css and there to the forms.css and

03:36.980 --> 03:42.790
in there, let me now add the invalid class which is the class I just defined in my template

03:43.080 --> 03:45.580
and let's give it a border color of red.

03:45.840 --> 03:52.770
Now due to the way css works, I should also be more precise here and say if a form control input has

03:52.770 --> 03:55.090
the class invalid, so this css selector.

03:55.110 --> 03:57.860
Let me save that and let me hit sign in again

03:57.870 --> 04:05.460
and now we see this red border because if we inspect this element, we see that indeed the invalid css

04:05.460 --> 04:11.040
class was added. And now that is a pattern which we of course can repeat in our view,

04:11.130 --> 04:17.430
we can go or we can take that logic here for adding a class and we can add that to any input

04:17.430 --> 04:19.600
obviously, not just to the email.

04:19.650 --> 04:27.950
So here I'll do it for my password and I'll simply check for the password control here

04:27.960 --> 04:30.880
and of course you could find other ways of implementing this,

04:30.900 --> 04:32.200
this is just one example

04:32.460 --> 04:36.950
but it is an example where we would now also mark the password red if it is invalid

04:37.080 --> 04:45.120
and the same for confirm password of course. There we can also simply restructure that for readability

04:45.120 --> 04:55.820
reasons, for nothing else than that and then simply add this css class here based on the confirm password

04:56.120 --> 04:57.110
field.

04:57.380 --> 04:58.790
And now with that changed

04:58.790 --> 05:02.100
if I hit sign up here, you see these are all red.

05:02.180 --> 05:04.220
The password is not because it's actually valid,

05:04.250 --> 05:07.160
if I would enter a too short one, they're all red

05:07.430 --> 05:10.280
and now this is another way of enhancing the user experience.

05:10.280 --> 05:14.550
Now feel free to play around with that and find your own solutions,

05:14.570 --> 05:15.980
see what else you can do,

05:15.980 --> 05:21.210
I just want to give you the ideas on how you can utilize that information

05:21.230 --> 05:26.450
the server side validation package gives you and of course, you also see how you can pass that information

05:26.660 --> 05:27.570
to your frontend.
