WEBVTT

00:01.990 --> 00:05.230
So let's start with resetting passwords.

00:05.260 --> 00:08.290
Obviously, that's a common thing you need to do in applications.

00:08.290 --> 00:09.630
People forget passwords.

00:09.640 --> 00:12.220
You want to offer them a way of resetting them.

00:12.700 --> 00:17.260
For that, we will need a new view and some new routes.

00:17.740 --> 00:20.230
Let's start with the view.

00:20.230 --> 00:25.900
Maybe so in the off folder I'll add a reset Edge's file.

00:25.900 --> 00:27.090
You can name it however you want.

00:27.100 --> 00:33.310
You could name it password reset edges, of course, and I'll copy my login Edge's code paste it in

00:33.310 --> 00:35.920
there, but of course adjust it a little bit.

00:36.220 --> 00:40.180
I'll still leave the error message here because eventually I might display one.

00:40.300 --> 00:45.460
I don't want the password field here, but I need to see a xref token and I need to email field because

00:45.460 --> 00:49.430
I want users to enter an email for which they want to reset the password.

00:49.450 --> 00:54.490
Then here I'll label this button reset password like this.

00:54.970 --> 00:57.940
So now we have that reset Edge's view.

00:57.970 --> 01:04.210
Let's now go to the off controller file and add some new actions to it.

01:04.690 --> 01:11.410
So we'll export a new action, which I'll name get reset that should simply render that reset page.

01:11.740 --> 01:16.600
So here we have the well-known function with the free arguments.

01:17.540 --> 01:24.530
And in there I'll use response render and we'll render a page just as we did it many times before.

01:24.530 --> 01:33.380
So I'll just copy that from up here to type less, render a page off reset is the view path here.

01:33.380 --> 01:36.140
The path in the URL will be just reset.

01:36.140 --> 01:41.630
Let's say title of the page could be reset password.

01:41.840 --> 01:49.190
Now regarding the error message, I'll also copy that this code here where I extract any message that

01:49.190 --> 01:51.410
might exist and pass it to The View.

01:52.100 --> 01:54.350
And with that we got the controller action.

01:54.350 --> 01:58.640
Let's now create a fitting route in the off routes file here.

01:58.970 --> 02:06.380
I will add a new get route to slash reset and use off controller get reset here.

02:06.380 --> 02:10.250
This is the route I want to load when we request the password reset.

02:10.310 --> 02:15.140
With that, we just need a way to reach that route and that would be on the log in page.

02:15.140 --> 02:20.600
Of course there below the form we want to offer a reset password link.

02:20.600 --> 02:28.490
So here I'll add a new link which leads to slash reset where I say reset password like that.

02:28.940 --> 02:31.820
Now let's all wrap that in some diff.

02:33.050 --> 02:36.260
And give this death a class of centered.

02:36.740 --> 02:39.230
This is a class I defined earlier in the course.

02:39.410 --> 02:41.210
Now back on the login page.

02:41.210 --> 02:44.730
If we reload it, we have reset password here.

02:44.750 --> 02:46.610
Now you can work on the styling if you want.

02:46.640 --> 02:50.660
The main thing is if I click on it, I'm taking to my reset password page.

02:51.110 --> 02:56.270
Now in here, the idea would be that you enter a password and then you receive an email with the password

02:56.270 --> 02:57.440
reset link.

02:57.860 --> 03:01.490
Now let's start working on that in the next lectures.
