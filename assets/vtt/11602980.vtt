WEBVTT

00:02.080 --> 00:05.810
So back in code, let's quickly think about our project.

00:05.890 --> 00:09.410
In the end, what we're building here is an online shop,

00:09.610 --> 00:12.570
so what we need is a starting page,

00:12.610 --> 00:16.890
we need a page where we can view all the products that are listed,

00:16.900 --> 00:26.110
we also want to be able to create new products, to edit products, as an administrator also to delete products,

00:26.230 --> 00:34.030
we want to be able to add products to a shopping cart, to go to a checkout page and pay for the products

00:34.300 --> 00:39.000
and then also as a customer, we want to be able to see our orders.

00:39.010 --> 00:45.090
So that's a lot of stuff and we'll build all that logic throughout the course but we can already get started

00:45.260 --> 00:50.410
and for that I will get started in the views and I'll try to add the views for the different things

00:50.410 --> 00:51.470
we'll need,

00:51.480 --> 00:54.950
we get add product and shop.ejs thus far. Now

00:55.180 --> 00:56.780
let's add more views here

00:56.830 --> 01:01.580
and I will also split them in sub-folders to group them together basically.

01:01.790 --> 01:09.340
I will add an admin subfolder and I'll move the add product view into the admin subfolder for example,

01:09.340 --> 01:12.670
I'll also add another subfolder and that will be my shop,

01:12.700 --> 01:15.040
so this is the customer facing part

01:15.040 --> 01:23.460
you could say and there I'll have my shop.ejs file, though I will rename this to product-list.ejs

01:23.500 --> 01:25.930
because that is what I want to have on this page in the end,

01:25.990 --> 01:29.710
it should be a page with a list of all my products.

01:29.710 --> 01:35.260
Now this of course is not a complete list of all of the views but we already need to add some changes

01:35.320 --> 01:43.000
as I restructured the folder structure here, for the product list for example for my includes, this

01:43.020 --> 01:44.970
path is not correct anymore,

01:45.280 --> 01:48.140
product list is now in the shop subfolder

01:48.170 --> 01:52.850
so I first of all need to go up one level until I can dive into the includes folder.

01:52.960 --> 02:00.430
So here in that path we should have ../ which means up one level and the same here for my

02:00.430 --> 02:02.130
navigation.

02:02.350 --> 02:04.000
So all that should be done

02:04.000 --> 02:05.070
and also for

02:05.220 --> 02:14.280
end.ejs here and of course the same for add product, there you want to go up one level, here

02:14.290 --> 02:20.400
also up one level and down there, up one level. With this adjusted,

02:20.410 --> 02:27.670
we also need to make sure that we render the correct views because in our controller, the products controller, we

02:27.670 --> 02:30.220
return the shop view here

02:30.520 --> 02:34.720
but this is seen relative from inside the views folder.

02:34.990 --> 02:41.720
However first of all, we rename this to product list and second it's now in a subfolder named shop.

02:41.740 --> 02:49.870
So actually we have to go into shop and then /product-list, this is the new path to our view. And the

02:49.870 --> 02:54.020
same here for add product, admin add product here

02:54.010 --> 02:56.140
this is now in the admin subfolder,

02:56.140 --> 03:02.530
so we should go into the admin folder and then render add product. With these changes in place if I reload

03:02.530 --> 03:03.690
my page here,

03:03.760 --> 03:05.160
this should all still work

03:05.260 --> 03:07.160
and indeed I can still switch,

03:07.240 --> 03:09.880
so the existing views are rendered correctly

03:09.970 --> 03:11.820
so that seems to work.

03:11.860 --> 03:17.760
Now we can add more views here and for that in the shop for example, I'll have an index page,

03:17.770 --> 03:19.430
so the starting page basically,

03:19.510 --> 03:21.300
right now this is my product list,

03:21.310 --> 03:26.800
well I will add a new area, the products area which should render the product list and the starting page

03:26.950 --> 03:28.360
should be a different page

03:28.360 --> 03:33.130
and in the end, it will be very similar but it should display less products

03:33.130 --> 03:40.870
let's say. Now in the shop, I also want to have a product-detail.ejs view where if I click

03:40.870 --> 03:45.350
on a product, I can see that and I want to have a cart.ejs

03:45.370 --> 03:51.250
view which I can basically see if I click on the cart in the menu and we'll have to add this

03:51.250 --> 03:52.820
menu item of course.

03:53.020 --> 03:59.540
And there's one remaining view for now and that is my checkout.ejs view which will be the checkout flow

03:59.560 --> 04:02.070
which we can start from inside the cart.

04:02.440 --> 04:05.020
Now in the admin area, we got add product,

04:05.020 --> 04:09.900
I also will add edit-product.ejs so that we can do that too

04:10.150 --> 04:17.470
and I will also add my list or product list.ejs view.

04:17.490 --> 04:20.900
Now we got a product list view already in the shop area,

04:20.940 --> 04:23.790
the admin of course also needs to be able to see that

04:24.000 --> 04:29.930
and just to avoid name clashes or confusion, you could name it like this, wouldn't be a problem

04:30.000 --> 04:36.360
but to not confuse you when I refer to these views, I'll name it products.ejs in the admin area and

04:36.360 --> 04:38.060
product list in the shop area

04:38.070 --> 04:42.970
but you could absolutely use the same name because they are in different folders.

04:43.410 --> 04:46.830
So now we got that setup and we'll add more if we need more

04:46.950 --> 04:48.560
but that looks decent,

04:48.570 --> 04:56.670
now let's go to the navigation and there I also need to work on the available navigation items because

04:56.670 --> 05:04.680
right now if I structure this a bit different to make it easier to read like this, we get two navigation

05:04.680 --> 05:10.050
items, one for the starting page and one for adding a product in the admin area.

05:10.050 --> 05:16.710
Now of course you could argue that you in general don't want one navigation with all the normal customer

05:16.710 --> 05:22.090
options and all the admin options but that is something we can tackle later,

05:22.140 --> 05:28.710
for now in the next lecture, I want to continue working on this and add all the links to all my views

05:28.710 --> 05:32.480
for the moment so that we can then refine this throughout the course.
